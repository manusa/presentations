"use strict";(self.webpackChunk_marcnuri_presentations=self.webpackChunk_marcnuri_presentations||[]).push([[491],{82569:function(e,n,t){t.r(n);var r=t(96540),s=t(83452),o=t(8385);n.default=(0,s.Ay)(e=>{let{currentStep:n}=e;const t={2:[2],3:[3,4,5,6],4:[7,8,9,10],5:[11,12,13]}[n]||[];return r.createElement(o.nQ.G0,{slide:20,title:"Frontend: Consuming Events Reactively"},r.createElement("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},r.createElement(o.Cy,{language:"javascript",useInlineStyles:!1,lineProps:e=>t.includes(e)?{class:"devbcn-2024__code--highlighted"}:{}},"\n          // pseudo-code\n          const eventSource = new EventSource('backend.host/api/v1/watch');\n          eventSource.onopen = function() {\n            clearErrors();\n            clearStore();\n          };\n          eventSource.onmessage = function(event) {\n            const message = JSON.parse(event.data);\n            persistInStore(message);\n          };\n          eventSource.onerror = function() {\n            setError('Connection lost');\n          };\n        ")))},`/presentations/${o.nQ.OZ}/slide-190-keeping-state`,`/presentations/${o.nQ.OZ}/slide-210-reactive-applications-advantages`,5)},83452:function(e,n,t){t.d(n,{OP:function(){return a},VS:function(){return c},m$:function(){return i}});var r=t(25540),s=t(96540),o=t(64810);const i=e=>n=>e<n?"hidden":"visible",c=e=>n=>e!==n?"hidden":"visible",a=e=>n=>e>n?"hidden":"visible";n.Ay=function(e,n,t,i){return void 0===i&&(i=1),function(c){function a(e){var n;return(n=c.call(this,e)||this).state={currentStep:1},n.handleOnKeyDown=n.onKeyDown.bind(n),n}(0,r.A)(a,c);var u=a.prototype;return u.render=function(){return s.createElement(e,Object.assign({},this.props,{currentStep:this.state.currentStep}))},u.componentDidMount=function(){document.addEventListener("keydown",this.handleOnKeyDown,!1)},u.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleOnKeyDown,!1)},u.onKeyDown=function(e){switch(e.key){case"Left":case"ArrowLeft":this.state.currentStep>1?this.setState({currentStep:this.state.currentStep-1}):(0,o.oo)(n);break;case"Right":case"ArrowRight":this.state.currentStep<i?this.setState({currentStep:this.state.currentStep+1}):(0,o.oo)(t);break;case"Esc":case"Escape":(0,o.oo)("/")}},a}(s.Component)}}}]);
//# sourceMappingURL=component---src-pages-presentations-2024-devbcn-full-stack-reactive-application-slide-200-consuming-sse-jsx-ce931a0b12ed3068c30a.js.map